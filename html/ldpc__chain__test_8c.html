<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN: lib/src/phy/fec/ldpc/test/ldpc_chain_test.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">srsRAN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a065c5f60305fee3569f887679366939.html">src</a></li><li class="navelem"><a class="el" href="dir_d78f2cc42514cdc664099c32bbb23d9d.html">phy</a></li><li class="navelem"><a class="el" href="dir_73d987d19721578f41a68d7a4fb4b023.html">fec</a></li><li class="navelem"><a class="el" href="dir_679abd8df1dff6ce017685f24e7d20a1.html">ldpc</a></li><li class="navelem"><a class="el" href="dir_fc20c0428f6085334d5b62220c4a2e66.html">test</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ldpc_chain_test.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>End-to-end test for LDPC encoder and decoder.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &quot;<a class="el" href="ch__awgn_8h_source.html">srsran/phy/channel/ch_awgn.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ldpc__common_8h_source.html">srsran/phy/fec/ldpc/ldpc_common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ldpc__decoder_8h_source.html">srsran/phy/fec/ldpc/ldpc_decoder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ldpc__encoder_8h_source.html">srsran/phy/fec/ldpc/ldpc_encoder.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">srsran/phy/utils/debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="random_8h_source.html">srsran/phy/utils/random.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vector_8h_source.html">srsran/phy/utils/vector.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ldpc_chain_test.c:</div>
<div class="dyncontent">
<div class="center"><img src="ldpc__chain__test_8c__incl.png" border="0" usemap="#lib_2src_2phy_2fec_2ldpc_2test_2ldpc__chain__test_8c" alt=""/></div>
<map name="lib_2src_2phy_2fec_2ldpc_2test_2ldpc__chain__test_8c" id="lib_2src_2phy_2fec_2ldpc_2test_2ldpc__chain__test_8c">
<area shape="rect" title="End&#45;to&#45;end test for LDPC encoder and decoder." alt="" coords="842,5,996,47"/>
<area shape="rect" title=" " alt="" coords="102,273,165,300"/>
<area shape="rect" title=" " alt="" coords="975,273,1036,300"/>
<area shape="rect" title=" " alt="" coords="1248,273,1312,300"/>
<area shape="rect" title=" " alt="" coords="1337,273,1402,300"/>
<area shape="rect" title=" " alt="" coords="1368,102,1436,129"/>
<area shape="rect" href="ch__awgn_8h.html" title="Additive white Gaussian noise channel object." alt="" coords="29,184,161,225"/>
<area shape="rect" href="ldpc__common_8h.html" title="Declaration of elements common to both the LDPC encoder and the LDPC decoder." alt="" coords="1460,95,1594,136"/>
<area shape="rect" href="ldpc__decoder_8h.html" title="Declaration of the LDPC decoder." alt="" coords="346,95,479,136"/>
<area shape="rect" href="ldpc__encoder_8h.html" title="Declaration of the LDPC encoder." alt="" coords="187,95,320,136"/>
<area shape="rect" href="debug_8h.html" title=" " alt="" coords="898,102,1060,129"/>
<area shape="rect" href="random_8h.html" title=" " alt="" coords="744,191,913,218"/>
<area shape="rect" href="vector_8h.html" title=" " alt="" coords="506,191,668,218"/>
<area shape="rect" href="config_8h.html" title=" " alt="" coords="422,273,530,300"/>
<area shape="rect" title=" " alt="" coords="276,273,341,300"/>
<area shape="rect" href="crc_8h.html" title=" " alt="" coords="343,191,482,218"/>
<area shape="rect" href="base__graph_8h.html" title="Declaration of the two LDPC base graphs employed in the 5G NR standard." alt="" coords="186,184,319,225"/>
<area shape="rect" title=" " alt="" coords="619,273,694,300"/>
<area shape="rect" href="phy__logger_8h.html" title=" " alt="" coords="1146,191,1242,218"/>
<area shape="rect" title=" " alt="" coords="938,191,1020,218"/>
<area shape="rect" title=" " alt="" coords="1161,273,1224,300"/>
<area shape="rect" title=" " alt="" coords="1061,273,1137,300"/>
<area shape="rect" title=" " alt="" coords="789,273,868,300"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae6949a0fc3f89d47fa9a3aa93379f059"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ldpc__chain__test_8c.html#ae6949a0fc3f89d47fa9a3aa93379f059">MS_SF</a>&#160;&#160;&#160;0.75<a class="el" href="vector__test_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a></td></tr>
<tr class="memdesc:ae6949a0fc3f89d47fa9a3aa93379f059"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scaling factor for the normalized min-sum decoding algorithm.  <a href="ldpc__chain__test_8c.html#ae6949a0fc3f89d47fa9a3aa93379f059">More...</a><br /></td></tr>
<tr class="separator:ae6949a0fc3f89d47fa9a3aa93379f059"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa4817482b1728bf62acf8030cab9842c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ldpc__chain__test_8c.html#aa4817482b1728bf62acf8030cab9842c">usage</a> (char *prog)</td></tr>
<tr class="memdesc:aa4817482b1728bf62acf8030cab9842c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints test help when wrong parameter is passed as input.  <a href="ldpc__chain__test_8c.html#aa4817482b1728bf62acf8030cab9842c">More...</a><br /></td></tr>
<tr class="separator:aa4817482b1728bf62acf8030cab9842c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51139c09a6089f2944ef8ed43e4840c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ldpc__chain__test_8c.html#a51139c09a6089f2944ef8ed43e4840c2">parse_args</a> (int argc, char **<a class="el" href="vector__test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</td></tr>
<tr class="memdesc:a51139c09a6089f2944ef8ed43e4840c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the input line.  <a href="ldpc__chain__test_8c.html#a51139c09a6089f2944ef8ed43e4840c2">More...</a><br /></td></tr>
<tr class="separator:a51139c09a6089f2944ef8ed43e4840c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a3e68d30862790b498315676c949f20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ldpc__chain__test_8c.html#a4a3e68d30862790b498315676c949f20">print_decoder</a> (char *title, int n_batches, int n_errors, double elapsed_time)</td></tr>
<tr class="memdesc:a4a3e68d30862790b498315676c949f20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints decoder statistics.  <a href="ldpc__chain__test_8c.html#a4a3e68d30862790b498315676c949f20">More...</a><br /></td></tr>
<tr class="separator:a4a3e68d30862790b498315676c949f20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ldpc__chain__test_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **<a class="el" href="vector__test_8c.html#af2efa898e9eed6fe6715279cb1ec35b0">argv</a>)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main test function.  <a href="ldpc__chain__test_8c.html#a3c04138a5bfe5d72780bb7e82a18e627">More...</a><br /></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>End-to-end test for LDPC encoder and decoder. </p>
<p>Copyright 2013-2022 Software Radio Systems Limited</p>
<p>This file is part of srsRAN.</p>
<p>srsRAN is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>srsRAN is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details.</p>
<p>A copy of the GNU Affero General Public License can be found in the LICENSE file in the top-level directory of this distribution and at <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
<p>A batch of example messages is randomly generated, encoded, 2-PAM modulated, sent over an AWGN channel and, finally, decoded by all three types of decoder. Transmitted and received messages are compared to estimate the WER. Multiple batches are simulated if the number of errors is not significant enough.</p>
<p>A fixed number of filler bits (F) equal to encoder.bgK - 5 is added to the message. if the function is called with -e0 (no rate matchign), the rm_length is set to finalN - F, So that after rate-dematching (which includes filler bits) the input to the decoder has lenght N.</p>
<p>Basic rate-matching simulations can be carried out by setting the codeword length to a value smaller than the base one.</p>
<p>Synopsis: <b>ldpc_chain_test [options]</b></p>
<p>Options:</p><ul>
<li><b>-b &lt;number&gt;</b> Base Graph (1 or 2. Default 1).</li>
<li><b>-l &lt;number&gt;</b> Lifting Size (according to 5GNR standard. Default 2).</li>
<li><b>-e &lt;number&gt;</b> Codeword length after rate matching (set to 0 [default] for full rate).</li>
<li><b>-s &lt;number&gt;</b> SNR in dB (Default 3 dB).</li>
<li><b>-B &lt;number&gt;</b> Number of codewords in a batch.(Default 100).</li>
<li><b>-N &lt;number&gt;</b> Max number of simulated batches.(Default 10000).</li>
<li><b>-<a class="el" href="structE.html">E</a> &lt;number&gt;</b> Minimum number of errors for a significant simulation.(Default 100). </li>
</ul>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ae6949a0fc3f89d47fa9a3aa93379f059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6949a0fc3f89d47fa9a3aa93379f059">&#9670;&nbsp;</a></span>MS_SF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MS_SF&#160;&#160;&#160;0.75<a class="el" href="vector__test_8c.html#a3efb0e1a16208deecbd84c15401f7cf8">f</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scaling factor for the normalized min-sum decoding algorithm. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main test function. </p>

</div>
</div>
<a id="a51139c09a6089f2944ef8ed43e4840c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51139c09a6089f2944ef8ed43e4840c2">&#9670;&nbsp;</a></span>parse_args()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void parse_args </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses the input line. </p>

</div>
</div>
<a id="a4a3e68d30862790b498315676c949f20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a3e68d30862790b498315676c949f20">&#9670;&nbsp;</a></span>print_decoder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int print_decoder </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>title</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_batches</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n_errors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>elapsed_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints decoder statistics. </p>

</div>
</div>
<a id="aa4817482b1728bf62acf8030cab9842c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4817482b1728bf62acf8030cab9842c">&#9670;&nbsp;</a></span>usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void usage </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>prog</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints test help when wrong parameter is passed as input. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
