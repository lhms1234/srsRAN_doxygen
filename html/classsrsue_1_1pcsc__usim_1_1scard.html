<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN: srsue::pcsc_usim::scard Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">srsRAN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesrsue.html">srsue</a></li><li class="navelem"><a class="el" href="classsrsue_1_1pcsc__usim.html">pcsc_usim</a></li><li class="navelem"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html">scard</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classsrsue_1_1pcsc__usim_1_1scard-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">srsue::pcsc_usim::scard Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for srsue::pcsc_usim::scard:</div>
<div class="dyncontent">
<div class="center"><img src="classsrsue_1_1pcsc__usim_1_1scard__coll__graph.png" border="0" usemap="#srsue_1_1pcsc__usim_1_1scard_coll__map" alt="Collaboration graph"/></div>
<map name="srsue_1_1pcsc__usim_1_1scard_coll__map" id="srsue_1_1pcsc__usim_1_1scard_coll__map">
<area shape="rect" title=" " alt="" coords="18,535,183,817"/>
<area shape="rect" href="classsrslog_1_1detail_1_1logger__impl.html" title=" " alt="" coords="5,263,196,472"/>
<area shape="rect" title=" " alt="" coords="25,64,64,141"/>
<area shape="rect" href="classsrslog_1_1detail_1_1mutex.html" title="Abstraction of a pthread mutex." alt="" coords="88,5,228,200"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a092f2b5ef9bc0470798dcb739e320ebd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a092f2b5ef9bc0470798dcb739e320ebd">scard</a> (<a class="el" href="namespacesrslog.html#a89b5529471f90d5a87a25d5fb327f817">srslog::basic_logger</a> &amp;<a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#ac817c173c94c005313c0ad2676a4a06d">logger</a>)</td></tr>
<tr class="separator:a092f2b5ef9bc0470798dcb739e320ebd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e87b14b89137c5af0502d5ba12a18a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a4e87b14b89137c5af0502d5ba12a18a3">~scard</a> ()</td></tr>
<tr class="separator:a4e87b14b89137c5af0502d5ba12a18a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08872d7c84d0a7e0962914447eac47d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a08872d7c84d0a7e0962914447eac47d8">init</a> (<a class="el" href="classsrsue_1_1usim__args__t.html">usim_args_t</a> *args)</td></tr>
<tr class="separator:a08872d7c84d0a7e0962914447eac47d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35b55680a20dabe6b350d6b27d89457"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#aa35b55680a20dabe6b350d6b27d89457">deinit</a> ()</td></tr>
<tr class="separator:aa35b55680a20dabe6b350d6b27d89457"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18dca02d273571b9d2367a2abd19963e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a18dca02d273571b9d2367a2abd19963e">select_file</a> (unsigned short file_id, unsigned char *buf, size_t *buf_len)</td></tr>
<tr class="separator:a18dca02d273571b9d2367a2abd19963e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46f42f8b2d321b870a5507b1c7f7a178"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a46f42f8b2d321b870a5507b1c7f7a178">_select_file</a> (unsigned short file_id, unsigned char *buf, size_t *buf_len, <a class="el" href="namespacesrsue.html#a88ad4256172bfc2463d7bc1fbae4954d">sim_types_t</a> <a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a34768f26f39d4b153949497badd36855">sim_type</a>, unsigned char *aid, size_t aidlen)</td></tr>
<tr class="separator:a46f42f8b2d321b870a5507b1c7f7a178"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac77318ca895ed134eb8a1ccf738e8002"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#ac77318ca895ed134eb8a1ccf738e8002">transmit</a> (unsigned char *_send, size_t send_len, unsigned char *_recv, size_t *recv_len)</td></tr>
<tr class="separator:ac77318ca895ed134eb8a1ccf738e8002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d78a3c396ed77dc6ba204230dd2267b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a6d78a3c396ed77dc6ba204230dd2267b">get_aid</a> (unsigned char *aid, size_t maxlen)</td></tr>
<tr class="separator:a6d78a3c396ed77dc6ba204230dd2267b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a917d4d6dca799fbce8a0b369e046d686"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a917d4d6dca799fbce8a0b369e046d686">get_record_len</a> (unsigned char recnum, unsigned char <a class="el" href="npdsch__test_8c.html#a63d0b9d923d12c0dd7633e70f3ffec60">mode</a>)</td></tr>
<tr class="separator:a917d4d6dca799fbce8a0b369e046d686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5b259cb49ae197523bb9173cfea733f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#aa5b259cb49ae197523bb9173cfea733f">read_record</a> (unsigned char *<a class="el" href="pdsch__ue_8c.html#aa23eb93a9a6f13a2e315c66634acbe9c">data</a>, size_t len, unsigned char recnum, unsigned char <a class="el" href="npdsch__test_8c.html#a63d0b9d923d12c0dd7633e70f3ffec60">mode</a>)</td></tr>
<tr class="separator:aa5b259cb49ae197523bb9173cfea733f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f5196365a773272a26938e17fdc89f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a0f5196365a773272a26938e17fdc89f6">get_imsi</a> (char *<a class="el" href="classsrsue_1_1usim__base.html#af4f9de7ff26a3bf9b8774d2aac126673">imsi</a>, size_t *len)</td></tr>
<tr class="separator:a0f5196365a773272a26938e17fdc89f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a492f0a1bc9f76885a82d4f9b0eeb5001"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a492f0a1bc9f76885a82d4f9b0eeb5001">parse_fsp_templ</a> (unsigned char *buf, size_t buf_len, int *ps_do, int *file_len)</td></tr>
<tr class="separator:a492f0a1bc9f76885a82d4f9b0eeb5001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55faabd4f9c50379dee660383c16ccf2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a55faabd4f9c50379dee660383c16ccf2">read_file</a> (unsigned char *<a class="el" href="pdsch__ue_8c.html#aa23eb93a9a6f13a2e315c66634acbe9c">data</a>, size_t len)</td></tr>
<tr class="separator:a55faabd4f9c50379dee660383c16ccf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93c42a6ae2c60e9518058d32a6c39187"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a93c42a6ae2c60e9518058d32a6c39187">get_mnc_len</a> ()</td></tr>
<tr class="separator:a93c42a6ae2c60e9518058d32a6c39187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a918b44277bc53b99a32acb1fd4dc8532"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a918b44277bc53b99a32acb1fd4dc8532">umts_auth</a> (const unsigned char *_rand, const unsigned char *autn, unsigned char *res, int *res_len, unsigned char *<a class="el" href="classsrsue_1_1usim__base.html#a5bf7d94d53611c9cdc8b2704e45e782f">ik</a>, unsigned char *<a class="el" href="classsrsue_1_1usim__base.html#aba46335c414dd4c9155dec2978dfff87">ck</a>, unsigned char *<a class="el" href="classsrsue_1_1usim__base.html#a040d1768a33ce5402022cf5d43c44c5b">auts</a>)</td></tr>
<tr class="separator:a918b44277bc53b99a32acb1fd4dc8532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f5936da406af75a02f392ca2a5c4ab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a87f5936da406af75a02f392ca2a5c4ab">pin_needed</a> (unsigned char *hdr, size_t hlen)</td></tr>
<tr class="separator:a87f5936da406af75a02f392ca2a5c4ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3deb69cfc91844cb52108f145a7f8b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#aa3deb69cfc91844cb52108f145a7f8b7">verify_pin</a> (const char *pin)</td></tr>
<tr class="separator:aa3deb69cfc91844cb52108f145a7f8b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa39c40e822e120d78075f3982c2c97b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#aa39c40e822e120d78075f3982c2c97b2">get_pin_retry_counter</a> ()</td></tr>
<tr class="separator:aa39c40e822e120d78075f3982c2c97b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aded298e814cda2ca47950f5065e5f604"><td class="memItemLeft" align="right" valign="top">SCARDCONTEXT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#aded298e814cda2ca47950f5065e5f604">scard_context</a></td></tr>
<tr class="separator:aded298e814cda2ca47950f5065e5f604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6bb3a2d329b2f33e6660b742e24cbfe"><td class="memItemLeft" align="right" valign="top">SCARDHANDLE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#ab6bb3a2d329b2f33e6660b742e24cbfe">scard_handle</a></td></tr>
<tr class="separator:ab6bb3a2d329b2f33e6660b742e24cbfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca25c98f54efad2710e4deadbc91dcae"><td class="memItemLeft" align="right" valign="top">long unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#aca25c98f54efad2710e4deadbc91dcae">scard_protocol</a></td></tr>
<tr class="separator:aca25c98f54efad2710e4deadbc91dcae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34768f26f39d4b153949497badd36855"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesrsue.html#a88ad4256172bfc2463d7bc1fbae4954d">sim_types_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#a34768f26f39d4b153949497badd36855">sim_type</a></td></tr>
<tr class="separator:a34768f26f39d4b153949497badd36855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa30ef8422168ddc2016b915b63ecaa17"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#aa30ef8422168ddc2016b915b63ecaa17">pin1_needed</a></td></tr>
<tr class="separator:aa30ef8422168ddc2016b915b63ecaa17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac817c173c94c005313c0ad2676a4a06d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacesrslog.html#a89b5529471f90d5a87a25d5fb327f817">srslog::basic_logger</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsrsue_1_1pcsc__usim_1_1scard.html#ac817c173c94c005313c0ad2676a4a06d">logger</a></td></tr>
<tr class="separator:ac817c173c94c005313c0ad2676a4a06d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a092f2b5ef9bc0470798dcb739e320ebd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a092f2b5ef9bc0470798dcb739e320ebd">&#9670;&nbsp;</a></span>scard()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">srsue::pcsc_usim::scard::scard </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacesrslog.html#a89b5529471f90d5a87a25d5fb327f817">srslog::basic_logger</a> &amp;&#160;</td>
          <td class="paramname"><em>logger</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4e87b14b89137c5af0502d5ba12a18a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e87b14b89137c5af0502d5ba12a18a3">&#9670;&nbsp;</a></span>~scard()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">srsue::pcsc_usim::scard::~scard </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a46f42f8b2d321b870a5507b1c7f7a178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46f42f8b2d321b870a5507b1c7f7a178">&#9670;&nbsp;</a></span>_select_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsue::pcsc_usim::scard::_select_file </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>file_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>buf_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacesrsue.html#a88ad4256172bfc2463d7bc1fbae4954d">sim_types_t</a>&#160;</td>
          <td class="paramname"><em>sim_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>aid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>aidlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa35b55680a20dabe6b350d6b27d89457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa35b55680a20dabe6b350d6b27d89457">&#9670;&nbsp;</a></span>deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void srsue::pcsc_usim::scard::deinit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>scard_deinit - Deinitialize SIM/USIM connection @scard: Pointer to private data from scard_init()</p>
<p>This function closes the SIM/USIM connect opened with scard_init(). </p>

</div>
</div>
<a id="a6d78a3c396ed77dc6ba204230dd2267b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d78a3c396ed77dc6ba204230dd2267b">&#9670;&nbsp;</a></span>get_aid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsue::pcsc_usim::scard::get_aid </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>aid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0f5196365a773272a26938e17fdc89f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f5196365a773272a26938e17fdc89f6">&#9670;&nbsp;</a></span>get_imsi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsue::pcsc_usim::scard::get_imsi </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>imsi</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>scard_get_imsi - Read IMSI from SIM/USIM card @scard: Pointer to private data from scard_init() @imsi: Buffer for IMSI @len: Length of imsi buffer; set to IMSI length on success Returns: 0 on success, -1 if IMSI file cannot be selected, -2 if IMSI file selection returns invalid result code, -3 if parsing FSP template file fails (USIM only), -4 if IMSI does not fit in the provided imsi buffer (len is set to needed length), -5 if reading IMSI file fails.</p>
<p>This function can be used to read IMSI from the SIM/USIM card. If the IMSI file is PIN protected, scard_set_pin() must have been used to set the correct PIN code before calling scard_get_imsi(). </p>

</div>
</div>
<a id="a93c42a6ae2c60e9518058d32a6c39187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93c42a6ae2c60e9518058d32a6c39187">&#9670;&nbsp;</a></span>get_mnc_len()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsue::pcsc_usim::scard::get_mnc_len </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>scard_get_mnc_len - Read length of MNC in the IMSI from SIM/USIM card @scard: Pointer to private data from scard_init() Returns: length (&gt;0) on success, -1 if administrative data file cannot be selected, -2 if administrative data file selection returns invalid result code, -3 if parsing FSP template file fails (USIM only), -4 if length of the file is unexpected, -5 if reading file fails, -6 if MNC length is not in range (i.e. 2 or 3), -7 if MNC length is not available. </p>

</div>
</div>
<a id="aa39c40e822e120d78075f3982c2c97b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa39c40e822e120d78075f3982c2c97b2">&#9670;&nbsp;</a></span>get_pin_retry_counter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsue::pcsc_usim::scard::get_pin_retry_counter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a917d4d6dca799fbce8a0b369e046d686"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a917d4d6dca799fbce8a0b369e046d686">&#9670;&nbsp;</a></span>get_record_len()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsue::pcsc_usim::scard::get_record_len </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>recnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a08872d7c84d0a7e0962914447eac47d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08872d7c84d0a7e0962914447eac47d8">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsue::pcsc_usim::scard::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsrsue_1_1usim__args__t.html">usim_args_t</a> *&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a492f0a1bc9f76885a82d4f9b0eeb5001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a492f0a1bc9f76885a82d4f9b0eeb5001">&#9670;&nbsp;</a></span>parse_fsp_templ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsue::pcsc_usim::scard::parse_fsp_templ </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buf_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ps_do</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>file_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a87f5936da406af75a02f392ca2a5c4ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87f5936da406af75a02f392ca2a5c4ab">&#9670;&nbsp;</a></span>pin_needed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsue::pcsc_usim::scard::pin_needed </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>hlen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a55faabd4f9c50379dee660383c16ccf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55faabd4f9c50379dee660383c16ccf2">&#9670;&nbsp;</a></span>read_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsue::pcsc_usim::scard::read_file </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa5b259cb49ae197523bb9173cfea733f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5b259cb49ae197523bb9173cfea733f">&#9670;&nbsp;</a></span>read_record()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsue::pcsc_usim::scard::read_record </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>recnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a18dca02d273571b9d2367a2abd19963e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18dca02d273571b9d2367a2abd19963e">&#9670;&nbsp;</a></span>select_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsue::pcsc_usim::scard::select_file </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>file_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac77318ca895ed134eb8a1ccf738e8002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac77318ca895ed134eb8a1ccf738e8002">&#9670;&nbsp;</a></span>transmit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long srsue::pcsc_usim::scard::transmit </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>_send</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>send_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>_recv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>recv_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a918b44277bc53b99a32acb1fd4dc8532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a918b44277bc53b99a32acb1fd4dc8532">&#9670;&nbsp;</a></span>umts_auth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsue::pcsc_usim::scard::umts_auth </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>_rand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>autn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>res_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>ik</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>ck</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>auts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>scard_umts_auth - Run UMTS authentication command on USIM card @scard: Pointer to private data from scard_init() @_rand: 16-byte RAND value from HLR/AuC @autn: 16-byte AUTN value from HLR/AuC @res: 16-byte buffer for RES @res_len: Variable that will be set to RES length @ik: 16-byte buffer for IK @ck: 16-byte buffer for CK @auts: 14-byte buffer for AUTS Returns: 0 on success, -1 on failure, or -2 if USIM reports synchronization failure</p>
<p>This function performs AKA authentication using USIM card and the provided RAND and AUTN values from HLR/AuC. If authentication command can be completed successfully, RES, IK, and CK values will be written into provided buffers and res_len is set to length of received RES value. If USIM reports synchronization failure, the received AUTS value will be written into auts buffer. In this case, RES, IK, and CK are not valid. </p>

</div>
</div>
<a id="aa3deb69cfc91844cb52108f145a7f8b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3deb69cfc91844cb52108f145a7f8b7">&#9670;&nbsp;</a></span>verify_pin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsue::pcsc_usim::scard::verify_pin </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac817c173c94c005313c0ad2676a4a06d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac817c173c94c005313c0ad2676a4a06d">&#9670;&nbsp;</a></span>logger</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesrslog.html#a89b5529471f90d5a87a25d5fb327f817">srslog::basic_logger</a>&amp; srsue::pcsc_usim::scard::logger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa30ef8422168ddc2016b915b63ecaa17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa30ef8422168ddc2016b915b63ecaa17">&#9670;&nbsp;</a></span>pin1_needed</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool srsue::pcsc_usim::scard::pin1_needed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aded298e814cda2ca47950f5065e5f604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded298e814cda2ca47950f5065e5f604">&#9670;&nbsp;</a></span>scard_context</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SCARDCONTEXT srsue::pcsc_usim::scard::scard_context</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab6bb3a2d329b2f33e6660b742e24cbfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6bb3a2d329b2f33e6660b742e24cbfe">&#9670;&nbsp;</a></span>scard_handle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SCARDHANDLE srsue::pcsc_usim::scard::scard_handle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aca25c98f54efad2710e4deadbc91dcae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca25c98f54efad2710e4deadbc91dcae">&#9670;&nbsp;</a></span>scard_protocol</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long unsigned srsue::pcsc_usim::scard::scard_protocol</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a34768f26f39d4b153949497badd36855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34768f26f39d4b153949497badd36855">&#9670;&nbsp;</a></span>sim_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacesrsue.html#a88ad4256172bfc2463d7bc1fbae4954d">sim_types_t</a> srsue::pcsc_usim::scard::sim_type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>srsue/hdr/stack/upper/<a class="el" href="pcsc__usim_8h_source.html">pcsc_usim.h</a></li>
<li>srsue/src/stack/upper/<a class="el" href="pcsc__usim_8cc.html">pcsc_usim.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
