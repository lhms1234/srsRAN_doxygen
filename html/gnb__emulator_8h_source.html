<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN: srsue/src/phy/test/gnb_emulator.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">srsRAN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_dc7737dc64ff95bba2092635e67df1a3.html">srsue</a></li><li class="navelem"><a class="el" href="dir_630c77cdbd44d40c171123502be868dd.html">src</a></li><li class="navelem"><a class="el" href="dir_ef3e4a7b5e851a05f226248f0df14206.html">phy</a></li><li class="navelem"><a class="el" href="dir_0faab565feaf2400d509711ffded588c.html">test</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">gnb_emulator.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="gnb__emulator_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#ifndef SRSRAN_GNB_EMULATOR_H</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#define SRSRAN_GNB_EMULATOR_H</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="channel_8h.html">srsran/phy/channel/channel.h</a>&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="rf__timestamp_8h.html">srsran/radio/rf_timestamp.h</a>&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="srsran_8h.html">srsran/srsran.h</a>&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="srsran__assert_8h.html">srsran/support/srsran_assert.h</a>&gt;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno"><a class="line" href="classgnb__emulator.html">   30</a></span>&#160;<span class="keyword">class </span><a class="code" href="classgnb__emulator.html">gnb_emulator</a></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;{</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="classgnb__emulator.html#a081febd53bb1c9f9efff88e4bfa1e908">   33</a></span>&#160;  uint32_t              <a class="code" href="classgnb__emulator.html#a081febd53bb1c9f9efff88e4bfa1e908">sf_len</a>  = 0;</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="classgnb__emulator.html#ab916c2aa0664c5d8f5f153903ca2f1ee">   34</a></span>&#160;  <a class="code" href="structSRSRAN__API.html">srsran_carrier_nr_t</a>   <a class="code" href="classgnb__emulator.html#ab916c2aa0664c5d8f5f153903ca2f1ee">carrier</a> = {};</div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="classgnb__emulator.html#a2b3f2fd1d79f7db45828b164570581c7">   35</a></span>&#160;  <a class="code" href="structSRSRAN__API.html">srsran_ssb_t</a>          <a class="code" href="classgnb__emulator.html#a2b3f2fd1d79f7db45828b164570581c7">ssb</a>     = {};</div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="classgnb__emulator.html#ae5dfe5b700ce703101dcdd7518c876cc">   36</a></span>&#160;  <a class="code" href="classsrsran_1_1channel.html">srsran::channel</a>       <a class="code" href="classgnb__emulator.html#ae5dfe5b700ce703101dcdd7518c876cc">channel</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="classgnb__emulator.html#adb44a1dbb4fa8d8652ebb1c1eab3072b">   37</a></span>&#160;  std::vector&lt;cf_t&gt;     <a class="code" href="classgnb__emulator.html#adb44a1dbb4fa8d8652ebb1c1eab3072b">buffer</a>;</div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="classgnb__emulator.html#ac73ef4286bee433f75d5c69846efc666">   38</a></span>&#160;  <a class="code" href="classsrslog_1_1detail_1_1logger__impl.html">srslog::basic_logger</a>&amp; <a class="code" href="classgnb__emulator.html#ac73ef4286bee433f75d5c69846efc666">logger</a> = <a class="code" href="namespacesrslog.html#a7c6cd017ea70905a8cb4486b7a7fdda6">srslog::fetch_basic_logger</a>(<span class="stringliteral">&quot;GNB-EMULATOR&quot;</span>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="structgnb__emulator_1_1args__t.html">   41</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structgnb__emulator_1_1args__t.html">args_t</a> {</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structgnb__emulator_1_1args__t.html#ab559c92e92f5cc5de70543a1fbe4a9d5">   42</a></span>&#160;    <span class="keywordtype">double</span>                      <a class="code" href="structgnb__emulator_1_1args__t.html#ab559c92e92f5cc5de70543a1fbe4a9d5">srate_hz</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="structgnb__emulator_1_1args__t.html#a2d9d99f6ef8088da2a54401265c56f20">   43</a></span>&#160;    <a class="code" href="structSRSRAN__API.html">srsran_carrier_nr_t</a>         <a class="code" href="structgnb__emulator_1_1args__t.html#a2d9d99f6ef8088da2a54401265c56f20">carrier</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="structgnb__emulator_1_1args__t.html#a4b55fc8c3e9dc59023ddd7da082ab3b8">   44</a></span>&#160;    <a class="code" href="phy__common__nr_8h.html#ab0c679d4faff3b6a7cd62c75fe7d7f98">srsran_subcarrier_spacing_t</a> <a class="code" href="structgnb__emulator_1_1args__t.html#a4b55fc8c3e9dc59023ddd7da082ab3b8">ssb_scs</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="structgnb__emulator_1_1args__t.html#a09700c1838bb361cb0a3c15de38ddb99">   45</a></span>&#160;    <a class="code" href="phy__common__nr_8h.html#adc43afc414742947bb801541d6e45a8c">srsran_ssb_pattern_t</a>        <a class="code" href="structgnb__emulator_1_1args__t.html#a09700c1838bb361cb0a3c15de38ddb99">ssb_pattern</a>;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structgnb__emulator_1_1args__t.html#a203442c1452edc02061738365339a196">   46</a></span>&#160;    uint32_t                    <a class="code" href="structgnb__emulator_1_1args__t.html#a203442c1452edc02061738365339a196">ssb_periodicity_ms</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="structgnb__emulator_1_1args__t.html#aedfdf318d8fff40b03eb23af699d2289">   47</a></span>&#160;    <a class="code" href="phy__common__nr_8h.html#af648c57c7927b7b6c7839107210e7009">srsran_duplex_mode_t</a>        <a class="code" href="structgnb__emulator_1_1args__t.html#aedfdf318d8fff40b03eb23af699d2289">duplex_mode</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno"><a class="line" href="structgnb__emulator_1_1args__t.html#a6e4f182bf2e09205c1849e959e5f1f4f">   48</a></span>&#160;    <a class="code" href="structsrsran_1_1channel_1_1args__t.html">srsran::channel::args_t</a>     <a class="code" href="structgnb__emulator_1_1args__t.html#a6e4f182bf2e09205c1849e959e5f1f4f">channel</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structgnb__emulator_1_1args__t.html#a41deb1ac0e68a75178f1564bcf4ca839">   49</a></span>&#160;    std::string                 <a class="code" href="structgnb__emulator_1_1args__t.html#a41deb1ac0e68a75178f1564bcf4ca839">log_level</a> = <span class="stringliteral">&quot;warning&quot;</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  };</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classgnb__emulator.html#ad07c55fdf55b740e2303a5f75a16a672">   52</a></span>&#160;  <a class="code" href="classgnb__emulator.html#ad07c55fdf55b740e2303a5f75a16a672">gnb_emulator</a>(<span class="keyword">const</span> <a class="code" href="structgnb__emulator_1_1args__t.html">args_t</a>&amp; args) : <a class="code" href="classgnb__emulator.html#ae5dfe5b700ce703101dcdd7518c876cc">channel</a>(args.<a class="code" href="classgnb__emulator.html#ae5dfe5b700ce703101dcdd7518c876cc">channel</a>, 1, <a class="code" href="namespacesrslog.html">srslog</a>::<a class="code" href="namespacesrslog.html#a7c6cd017ea70905a8cb4486b7a7fdda6">fetch_basic_logger</a>(<span class="stringliteral">&quot;GNB-EMULATOR&quot;</span>))</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="classgnb__emulator.html#ac73ef4286bee433f75d5c69846efc666">logger</a>.<a class="code" href="classsrslog_1_1detail_1_1logger__impl.html#a70bfaf5c4255d339daae19d8d7194b23">set_level</a>(<a class="code" href="namespacesrslog.html#a0921e1312e0de12d19f1cc898958d9dd">srslog::str_to_basic_level</a>(args.<a class="code" href="structgnb__emulator_1_1args__t.html#a41deb1ac0e68a75178f1564bcf4ca839">log_level</a>));</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="srsran__assert_8h.html#a5f635080312ccd28ee0e9da9eafda09b">srsran_assert</a>(</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        std::isnormal(args.<a class="code" href="structgnb__emulator_1_1args__t.html#ab559c92e92f5cc5de70543a1fbe4a9d5">srate_hz</a>) and args.<a class="code" href="structgnb__emulator_1_1args__t.html#ab559c92e92f5cc5de70543a1fbe4a9d5">srate_hz</a> &gt; 0, <span class="stringliteral">&quot;Invalid sampling rate (%.2f MHz)&quot;</span>, args.<a class="code" href="structgnb__emulator_1_1args__t.html#ab559c92e92f5cc5de70543a1fbe4a9d5">srate_hz</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160; </div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">// Initialise internals</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="classgnb__emulator.html#a081febd53bb1c9f9efff88e4bfa1e908">sf_len</a>  = args.<a class="code" href="structgnb__emulator_1_1args__t.html#ab559c92e92f5cc5de70543a1fbe4a9d5">srate_hz</a> / 1000;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="classgnb__emulator.html#ab916c2aa0664c5d8f5f153903ca2f1ee">carrier</a> = args.<a class="code" href="structgnb__emulator_1_1args__t.html#a2d9d99f6ef8088da2a54401265c56f20">carrier</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="classgnb__emulator.html#adb44a1dbb4fa8d8652ebb1c1eab3072b">buffer</a>.resize(<a class="code" href="classgnb__emulator.html#a081febd53bb1c9f9efff88e4bfa1e908">sf_len</a>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160; </div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <a class="code" href="structSRSRAN__API.html">srsran_ssb_args_t</a> ssb_args = {};</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    ssb_args.<a class="code" href="structSRSRAN__API.html#af39b1616509c9961ec30d3fc5594f5d6">enable_encode</a>     = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="srsran__assert_8h.html#a5f635080312ccd28ee0e9da9eafda09b">srsran_assert</a>(<a class="code" href="ssb_8h.html#a9f4fca24e705493fbd4686a39ca0cc03">srsran_ssb_init</a>(&amp;<a class="code" href="classgnb__emulator.html#a2b3f2fd1d79f7db45828b164570581c7">ssb</a>, &amp;ssb_args) == <a class="code" href="config_8h.html#adfad7b94311dafac5a16dec17b4ab20d">SRSRAN_SUCCESS</a>, <span class="stringliteral">&quot;SSB initialisation failed&quot;</span>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="structSRSRAN__API.html">srsran_ssb_cfg_t</a> ssb_cfg = {};</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    ssb_cfg.<a class="code" href="structSRSRAN__API.html#a1cec35a6db68d3173144c05032345129">srate_hz</a>         = args.<a class="code" href="structgnb__emulator_1_1args__t.html#ab559c92e92f5cc5de70543a1fbe4a9d5">srate_hz</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    ssb_cfg.<a class="code" href="structSRSRAN__API.html#ae12e2cc2110dc7c86265f3e4c4b804ca">center_freq_hz</a>   = args.<a class="code" href="structgnb__emulator_1_1args__t.html#a2d9d99f6ef8088da2a54401265c56f20">carrier</a>.<a class="code" href="structSRSRAN__API.html#a141ee6cb94d34cdfc66717799bbd7e19">dl_center_frequency_hz</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    ssb_cfg.<a class="code" href="structSRSRAN__API.html#ad2ccea8571a71aa92247005838186432">ssb_freq_hz</a>      = args.<a class="code" href="structgnb__emulator_1_1args__t.html#a2d9d99f6ef8088da2a54401265c56f20">carrier</a>.<a class="code" href="structSRSRAN__API.html#abfa8e145549360e2be060260e4599482">ssb_center_freq_hz</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    ssb_cfg.<a class="code" href="structSRSRAN__API.html#a0254499238533ef743c1ee9183c0609e">scs</a>              = args.<a class="code" href="structgnb__emulator_1_1args__t.html#a4b55fc8c3e9dc59023ddd7da082ab3b8">ssb_scs</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    ssb_cfg.<a class="code" href="structSRSRAN__API.html#a5ee2956586715c8bf487333176d51e8d">pattern</a>          = args.<a class="code" href="structgnb__emulator_1_1args__t.html#a09700c1838bb361cb0a3c15de38ddb99">ssb_pattern</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    ssb_cfg.<a class="code" href="structSRSRAN__API.html#ae161359d890ef1e5f14d1f408264ec62">duplex_mode</a>      = args.<a class="code" href="structgnb__emulator_1_1args__t.html#aedfdf318d8fff40b03eb23af699d2289">duplex_mode</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    ssb_cfg.<a class="code" href="structSRSRAN__API.html#af8dfac7f70ad503a880086255ad5cd35">periodicity_ms</a>   = args.<a class="code" href="structgnb__emulator_1_1args__t.html#a203442c1452edc02061738365339a196">ssb_periodicity_ms</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="srsran__assert_8h.html#a5f635080312ccd28ee0e9da9eafda09b">srsran_assert</a>(<a class="code" href="ssb_8h.html#a4353e91ceaceb7fed52ae0190e920c72">srsran_ssb_set_cfg</a>(&amp;<a class="code" href="classgnb__emulator.html#a2b3f2fd1d79f7db45828b164570581c7">ssb</a>, &amp;ssb_cfg) == <a class="code" href="config_8h.html#adfad7b94311dafac5a16dec17b4ab20d">SRSRAN_SUCCESS</a>, <span class="stringliteral">&quot;SSB set config failed&quot;</span>);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="comment">// Configure channel</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="classgnb__emulator.html#ae5dfe5b700ce703101dcdd7518c876cc">channel</a>.<a class="code" href="classsrsran_1_1channel.html#a9e2f88867ce276fd194de1d83b15ce51">set_srate</a>((uint32_t)args.<a class="code" href="structgnb__emulator_1_1args__t.html#ab559c92e92f5cc5de70543a1fbe4a9d5">srate_hz</a>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="classgnb__emulator.html#a8c68868b7ad5ea8938a30707b2efe3e5">   82</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classgnb__emulator.html#a8c68868b7ad5ea8938a30707b2efe3e5">work</a>(uint32_t <a class="code" href="npbch__file__test_8c.html#ab5b9dccd836b4f017f6edf76c00855c2">sf_idx</a>, <a class="code" href="config_8h.html#a1623d7d56cb03130021bcfe0f7b5a56f">cf_t</a>* baseband_buffer, <span class="keyword">const</span> <a class="code" href="classsrsran_1_1rf__timestamp__t.html">srsran::rf_timestamp_t</a>&amp; ts)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="classgnb__emulator.html#ac73ef4286bee433f75d5c69846efc666">logger</a>.<a class="code" href="classsrslog_1_1detail_1_1logger__impl.html#a4b0da29e8e48116c01ed859f50169b56">set_context</a>(<a class="code" href="npbch__file__test_8c.html#ab5b9dccd836b4f017f6edf76c00855c2">sf_idx</a>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="comment">// Zero buffer</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="vector_8h.html#adfa22ca75d419230bbb030750c16031d">srsran_vec_cf_zero</a>(<a class="code" href="classgnb__emulator.html#adb44a1dbb4fa8d8652ebb1c1eab3072b">buffer</a>.data(), <a class="code" href="classgnb__emulator.html#a081febd53bb1c9f9efff88e4bfa1e908">sf_len</a>);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// Check if SSB needs to be sent</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="ssb_8h.html#a083f5defec4db294e10142efde6abb36">srsran_ssb_send</a>(&amp;<a class="code" href="classgnb__emulator.html#a2b3f2fd1d79f7db45828b164570581c7">ssb</a>, <a class="code" href="npbch__file__test_8c.html#ab5b9dccd836b4f017f6edf76c00855c2">sf_idx</a>)) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      <span class="comment">// Prepare PBCH message</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      <a class="code" href="structSRSRAN__API.html">srsran_pbch_msg_nr_t</a> msg = {};</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <span class="comment">// Add SSB</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="ssb_8h.html#a42741dce104030f78e9645b61318a5a0">srsran_ssb_add</a>(&amp;<a class="code" href="classgnb__emulator.html#a2b3f2fd1d79f7db45828b164570581c7">ssb</a>, <a class="code" href="classgnb__emulator.html#ab916c2aa0664c5d8f5f153903ca2f1ee">carrier</a>.<a class="code" href="structSRSRAN__API.html#a004ab73e78a195895d73f9ce5df53ca0">pci</a>, &amp;msg, <a class="code" href="classgnb__emulator.html#adb44a1dbb4fa8d8652ebb1c1eab3072b">buffer</a>.data(), <a class="code" href="classgnb__emulator.html#adb44a1dbb4fa8d8652ebb1c1eab3072b">buffer</a>.data()) &lt; <a class="code" href="config_8h.html#adfad7b94311dafac5a16dec17b4ab20d">SRSRAN_SUCCESS</a>) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <a class="code" href="classgnb__emulator.html#ac73ef4286bee433f75d5c69846efc666">logger</a>.error(<span class="stringliteral">&quot;Error adding SSB&quot;</span>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="config_8h.html#ae533a5f9d0e9a1ddc654db41c5199d0e">SRSRAN_ERROR</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">// Run channel</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="config_8h.html#a1623d7d56cb03130021bcfe0f7b5a56f">cf_t</a>* in[<a class="code" href="lib_2include_2srsran_2phy_2common_2phy__common_8h.html#a0d893d82dd703ee57668cb9b1020ef9e">SRSRAN_MAX_CHANNELS</a>]  = {};</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="config_8h.html#a1623d7d56cb03130021bcfe0f7b5a56f">cf_t</a>* out[<a class="code" href="lib_2include_2srsran_2phy_2common_2phy__common_8h.html#a0d893d82dd703ee57668cb9b1020ef9e">SRSRAN_MAX_CHANNELS</a>] = {};</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    in[0]                          = <a class="code" href="classgnb__emulator.html#adb44a1dbb4fa8d8652ebb1c1eab3072b">buffer</a>.data();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    out[0]                         = <a class="code" href="classgnb__emulator.html#adb44a1dbb4fa8d8652ebb1c1eab3072b">buffer</a>.data();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="classgnb__emulator.html#ae5dfe5b700ce703101dcdd7518c876cc">channel</a>.<a class="code" href="classsrsran_1_1channel.html#a960fde53982e148150859a7e1b0a1f68">run</a>(in, out, <a class="code" href="classgnb__emulator.html#a081febd53bb1c9f9efff88e4bfa1e908">sf_len</a>, ts.<a class="code" href="classsrsran_1_1rf__timestamp__t.html#a91f4e26be6f6b412b24c47c3faab21f6">get</a>(0));</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">// Add buffer to baseband buffer</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="vector_8h.html#aec585f01d1679e868a2578a26c8f8197">srsran_vec_sum_ccc</a>(baseband_buffer, <a class="code" href="classgnb__emulator.html#adb44a1dbb4fa8d8652ebb1c1eab3072b">buffer</a>.data(), baseband_buffer, <a class="code" href="classgnb__emulator.html#a081febd53bb1c9f9efff88e4bfa1e908">sf_len</a>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160; </div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="config_8h.html#adfad7b94311dafac5a16dec17b4ab20d">SRSRAN_SUCCESS</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classgnb__emulator.html#abe557d18ca513dac493063476604ed24">  114</a></span>&#160;  <a class="code" href="classgnb__emulator.html#abe557d18ca513dac493063476604ed24">~gnb_emulator</a>() { <a class="code" href="ssb_8h.html#abdf66e16ce0219162be64c65dc711683">srsran_ssb_free</a>(&amp;<a class="code" href="classgnb__emulator.html#a2b3f2fd1d79f7db45828b164570581c7">ssb</a>); }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;};</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="preprocessor">#endif // SRSRAN_GNB_EMULATOR_H</span></div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="astructSRSRAN__API_html_af8dfac7f70ad503a880086255ad5cd35"><div class="ttname"><a href="structSRSRAN__API.html#af8dfac7f70ad503a880086255ad5cd35">SRSRAN_API::periodicity_ms</a></div><div class="ttdeci">uint32_t periodicity_ms</div><div class="ttdoc">SSB periodicity in ms.</div><div class="ttdef"><b>Definition:</b> ssb.h:75</div></div>
<div class="ttc" id="astructgnb__emulator_1_1args__t_html_a09700c1838bb361cb0a3c15de38ddb99"><div class="ttname"><a href="structgnb__emulator_1_1args__t.html#a09700c1838bb361cb0a3c15de38ddb99">gnb_emulator::args_t::ssb_pattern</a></div><div class="ttdeci">srsran_ssb_pattern_t ssb_pattern</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:45</div></div>
<div class="ttc" id="astructgnb__emulator_1_1args__t_html_aedfdf318d8fff40b03eb23af699d2289"><div class="ttname"><a href="structgnb__emulator_1_1args__t.html#aedfdf318d8fff40b03eb23af699d2289">gnb_emulator::args_t::duplex_mode</a></div><div class="ttdeci">srsran_duplex_mode_t duplex_mode</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:47</div></div>
<div class="ttc" id="alib_2include_2srsran_2phy_2common_2phy__common_8h_html_a0d893d82dd703ee57668cb9b1020ef9e"><div class="ttname"><a href="lib_2include_2srsran_2phy_2common_2phy__common_8h.html#a0d893d82dd703ee57668cb9b1020ef9e">SRSRAN_MAX_CHANNELS</a></div><div class="ttdeci">#define SRSRAN_MAX_CHANNELS</div><div class="ttdef"><b>Definition:</b> phy_common.h:58</div></div>
<div class="ttc" id="aclassgnb__emulator_html_ae5dfe5b700ce703101dcdd7518c876cc"><div class="ttname"><a href="classgnb__emulator.html#ae5dfe5b700ce703101dcdd7518c876cc">gnb_emulator::channel</a></div><div class="ttdeci">srsran::channel channel</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:36</div></div>
<div class="ttc" id="astructSRSRAN__API_html_ae12e2cc2110dc7c86265f3e4c4b804ca"><div class="ttname"><a href="structSRSRAN__API.html#ae12e2cc2110dc7c86265f3e4c4b804ca">SRSRAN_API::center_freq_hz</a></div><div class="ttdeci">double center_freq_hz</div><div class="ttdoc">Base-band center frequency in Hz.</div><div class="ttdef"><b>Definition:</b> ssb.h:70</div></div>
<div class="ttc" id="assb_8h_html_abdf66e16ce0219162be64c65dc711683"><div class="ttname"><a href="ssb_8h.html#abdf66e16ce0219162be64c65dc711683">srsran_ssb_free</a></div><div class="ttdeci">SRSRAN_API void srsran_ssb_free(srsran_ssb_t *q)</div><div class="ttdoc">Frees NR SSB object.</div><div class="ttdef"><b>Definition:</b> ssb.c:139</div></div>
<div class="ttc" id="astructSRSRAN__API_html_a0254499238533ef743c1ee9183c0609e"><div class="ttname"><a href="structSRSRAN__API.html#a0254499238533ef743c1ee9183c0609e">SRSRAN_API::scs</a></div><div class="ttdeci">srsran_subcarrier_spacing_t scs</div><div class="ttdoc">SSB configured subcarrier spacing.</div><div class="ttdef"><b>Definition:</b> dmrs_pbch.h:36</div></div>
<div class="ttc" id="achannel_8h_html"><div class="ttname"><a href="channel_8h.html">channel.h</a></div></div>
<div class="ttc" id="anamespacesrslog_html"><div class="ttname"><a href="namespacesrslog.html">srslog</a></div><div class="ttdef"><b>Definition:</b> enb_events.h:28</div></div>
<div class="ttc" id="aclassgnb__emulator_html_ad07c55fdf55b740e2303a5f75a16a672"><div class="ttname"><a href="classgnb__emulator.html#ad07c55fdf55b740e2303a5f75a16a672">gnb_emulator::gnb_emulator</a></div><div class="ttdeci">gnb_emulator(const args_t &amp;args)</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:52</div></div>
<div class="ttc" id="aclasssrsran_1_1channel_html"><div class="ttname"><a href="classsrsran_1_1channel.html">srsran::channel</a></div><div class="ttdef"><b>Definition:</b> channel.h:37</div></div>
<div class="ttc" id="aclassgnb__emulator_html_ab916c2aa0664c5d8f5f153903ca2f1ee"><div class="ttname"><a href="classgnb__emulator.html#ab916c2aa0664c5d8f5f153903ca2f1ee">gnb_emulator::carrier</a></div><div class="ttdeci">srsran_carrier_nr_t carrier</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:34</div></div>
<div class="ttc" id="aclassgnb__emulator_html_a8c68868b7ad5ea8938a30707b2efe3e5"><div class="ttname"><a href="classgnb__emulator.html#a8c68868b7ad5ea8938a30707b2efe3e5">gnb_emulator::work</a></div><div class="ttdeci">int work(uint32_t sf_idx, cf_t *baseband_buffer, const srsran::rf_timestamp_t &amp;ts)</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:82</div></div>
<div class="ttc" id="anpbch__file__test_8c_html_ab5b9dccd836b4f017f6edf76c00855c2"><div class="ttname"><a href="npbch__file__test_8c.html#ab5b9dccd836b4f017f6edf76c00855c2">sf_idx</a></div><div class="ttdeci">int sf_idx</div><div class="ttdef"><b>Definition:</b> npbch_file_test.c:46</div></div>
<div class="ttc" id="anamespacesrslog_html_a0921e1312e0de12d19f1cc898958d9dd"><div class="ttname"><a href="namespacesrslog.html#a0921e1312e0de12d19f1cc898958d9dd">srslog::str_to_basic_level</a></div><div class="ttdeci">basic_levels str_to_basic_level(std::string s)</div><div class="ttdoc">Translates a string to the corresponding logger basic level.</div><div class="ttdef"><b>Definition:</b> logger.h:161</div></div>
<div class="ttc" id="assb_8h_html_a42741dce104030f78e9645b61318a5a0"><div class="ttname"><a href="ssb_8h.html#a42741dce104030f78e9645b61318a5a0">srsran_ssb_add</a></div><div class="ttdeci">SRSRAN_API int srsran_ssb_add(srsran_ssb_t *q, uint32_t N_id, const srsran_pbch_msg_nr_t *msg, const cf_t *in, cf_t *out)</div><div class="ttdoc">Adds SSB to a given signal in time domain.</div><div class="ttdef"><b>Definition:</b> ssb.c:620</div></div>
<div class="ttc" id="aclassgnb__emulator_html_a081febd53bb1c9f9efff88e4bfa1e908"><div class="ttname"><a href="classgnb__emulator.html#a081febd53bb1c9f9efff88e4bfa1e908">gnb_emulator::sf_len</a></div><div class="ttdeci">uint32_t sf_len</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:33</div></div>
<div class="ttc" id="astructSRSRAN__API_html_ad2ccea8571a71aa92247005838186432"><div class="ttname"><a href="structSRSRAN__API.html#ad2ccea8571a71aa92247005838186432">SRSRAN_API::ssb_freq_hz</a></div><div class="ttdeci">double ssb_freq_hz</div><div class="ttdoc">SSB center frequency.</div><div class="ttdef"><b>Definition:</b> ssb.h:71</div></div>
<div class="ttc" id="astructSRSRAN__API_html_af39b1616509c9961ec30d3fc5594f5d6"><div class="ttname"><a href="structSRSRAN__API.html#af39b1616509c9961ec30d3fc5594f5d6">SRSRAN_API::enable_encode</a></div><div class="ttdeci">bool enable_encode</div><div class="ttdoc">Enable encoder.</div><div class="ttdef"><b>Definition:</b> pbch_nr.h:38</div></div>
<div class="ttc" id="aclassgnb__emulator_html"><div class="ttname"><a href="classgnb__emulator.html">gnb_emulator</a></div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:30</div></div>
<div class="ttc" id="aclasssrsran_1_1channel_html_a960fde53982e148150859a7e1b0a1f68"><div class="ttname"><a href="classsrsran_1_1channel.html#a960fde53982e148150859a7e1b0a1f68">srsran::channel::run</a></div><div class="ttdeci">void run(cf_t *in[SRSRAN_MAX_CHANNELS], cf_t *out[SRSRAN_MAX_CHANNELS], uint32_t len, const srsran_timestamp_t &amp;t)</div><div class="ttdef"><b>Definition:</b> channel.cc:150</div></div>
<div class="ttc" id="aclassgnb__emulator_html_adb44a1dbb4fa8d8652ebb1c1eab3072b"><div class="ttname"><a href="classgnb__emulator.html#adb44a1dbb4fa8d8652ebb1c1eab3072b">gnb_emulator::buffer</a></div><div class="ttdeci">std::vector&lt; cf_t &gt; buffer</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:37</div></div>
<div class="ttc" id="astructgnb__emulator_1_1args__t_html_a4b55fc8c3e9dc59023ddd7da082ab3b8"><div class="ttname"><a href="structgnb__emulator_1_1args__t.html#a4b55fc8c3e9dc59023ddd7da082ab3b8">gnb_emulator::args_t::ssb_scs</a></div><div class="ttdeci">srsran_subcarrier_spacing_t ssb_scs</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:44</div></div>
<div class="ttc" id="astructgnb__emulator_1_1args__t_html"><div class="ttname"><a href="structgnb__emulator_1_1args__t.html">gnb_emulator::args_t</a></div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:41</div></div>
<div class="ttc" id="aclasssrsran_1_1channel_html_a9e2f88867ce276fd194de1d83b15ce51"><div class="ttname"><a href="classsrsran_1_1channel.html#a9e2f88867ce276fd194de1d83b15ce51">srsran::channel::set_srate</a></div><div class="ttdeci">void set_srate(uint32_t srate)</div><div class="ttdef"><b>Definition:</b> channel.cc:234</div></div>
<div class="ttc" id="aconfig_8h_html_a1623d7d56cb03130021bcfe0f7b5a56f"><div class="ttname"><a href="config_8h.html#a1623d7d56cb03130021bcfe0f7b5a56f">cf_t</a></div><div class="ttdeci">_Complex float cf_t</div><div class="ttdef"><b>Definition:</b> config.h:68</div></div>
<div class="ttc" id="astructSRSRAN__API_html_a141ee6cb94d34cdfc66717799bbd7e19"><div class="ttname"><a href="structSRSRAN__API.html#a141ee6cb94d34cdfc66717799bbd7e19">SRSRAN_API::dl_center_frequency_hz</a></div><div class="ttdeci">double dl_center_frequency_hz</div><div class="ttdoc">Absolute baseband center frequency in Hz for DL grid.</div><div class="ttdef"><b>Definition:</b> phy_common_nr.h:384</div></div>
<div class="ttc" id="astructSRSRAN__API_html_a5ee2956586715c8bf487333176d51e8d"><div class="ttname"><a href="structSRSRAN__API.html#a5ee2956586715c8bf487333176d51e8d">SRSRAN_API::pattern</a></div><div class="ttdeci">srsran_ssb_pattern_t pattern</div><div class="ttdoc">SSB pattern as defined in TS 38.313 section 4.1 Cell search.</div><div class="ttdef"><b>Definition:</b> ssb.h:73</div></div>
<div class="ttc" id="astructgnb__emulator_1_1args__t_html_a203442c1452edc02061738365339a196"><div class="ttname"><a href="structgnb__emulator_1_1args__t.html#a203442c1452edc02061738365339a196">gnb_emulator::args_t::ssb_periodicity_ms</a></div><div class="ttdeci">uint32_t ssb_periodicity_ms</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:46</div></div>
<div class="ttc" id="avector_8h_html_adfa22ca75d419230bbb030750c16031d"><div class="ttname"><a href="vector_8h.html#adfa22ca75d419230bbb030750c16031d">srsran_vec_cf_zero</a></div><div class="ttdeci">SRSRAN_API void srsran_vec_cf_zero(cf_t *ptr, uint32_t nsamples)</div><div class="ttdef"><b>Definition:</b> vector.c:229</div></div>
<div class="ttc" id="astructgnb__emulator_1_1args__t_html_a2d9d99f6ef8088da2a54401265c56f20"><div class="ttname"><a href="structgnb__emulator_1_1args__t.html#a2d9d99f6ef8088da2a54401265c56f20">gnb_emulator::args_t::carrier</a></div><div class="ttdeci">srsran_carrier_nr_t carrier</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:43</div></div>
<div class="ttc" id="aphy__common__nr_8h_html_ab0c679d4faff3b6a7cd62c75fe7d7f98"><div class="ttname"><a href="phy__common__nr_8h.html#ab0c679d4faff3b6a7cd62c75fe7d7f98">srsran_subcarrier_spacing_t</a></div><div class="ttdeci">enum SRSRAN_API srsran_subcarrier_spacing_t</div><div class="ttdoc">Subcarrier spacing 15 or 30 kHz &lt;6GHz and 60 or 120 kHz &gt;6GHz.</div></div>
<div class="ttc" id="arf__timestamp_8h_html"><div class="ttname"><a href="rf__timestamp_8h.html">rf_timestamp.h</a></div></div>
<div class="ttc" id="astructgnb__emulator_1_1args__t_html_a6e4f182bf2e09205c1849e959e5f1f4f"><div class="ttname"><a href="structgnb__emulator_1_1args__t.html#a6e4f182bf2e09205c1849e959e5f1f4f">gnb_emulator::args_t::channel</a></div><div class="ttdeci">srsran::channel::args_t channel</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:48</div></div>
<div class="ttc" id="assb_8h_html_a083f5defec4db294e10142efde6abb36"><div class="ttname"><a href="ssb_8h.html#a083f5defec4db294e10142efde6abb36">srsran_ssb_send</a></div><div class="ttdeci">SRSRAN_API bool srsran_ssb_send(srsran_ssb_t *q, uint32_t sf_idx)</div><div class="ttdoc">Decides if the SSB object is configured and a given subframe is configured for SSB transmission.</div><div class="ttdef"><b>Definition:</b> ssb.c:523</div></div>
<div class="ttc" id="astructSRSRAN__API_html_a1cec35a6db68d3173144c05032345129"><div class="ttname"><a href="structSRSRAN__API.html#a1cec35a6db68d3173144c05032345129">SRSRAN_API::srate_hz</a></div><div class="ttdeci">double srate_hz</div><div class="ttdoc">Fix sampling rate, set to 0 for minimum to fit nof_max_prb.</div><div class="ttdef"><b>Definition:</b> gnb_dl.h:38</div></div>
<div class="ttc" id="aconfig_8h_html_ae533a5f9d0e9a1ddc654db41c5199d0e"><div class="ttname"><a href="config_8h.html#ae533a5f9d0e9a1ddc654db41c5199d0e">SRSRAN_ERROR</a></div><div class="ttdeci">#define SRSRAN_ERROR</div><div class="ttdef"><b>Definition:</b> config.h:58</div></div>
<div class="ttc" id="aclasssrsran_1_1rf__timestamp__t_html_a91f4e26be6f6b412b24c47c3faab21f6"><div class="ttname"><a href="classsrsran_1_1rf__timestamp__t.html#a91f4e26be6f6b412b24c47c3faab21f6">srsran::rf_timestamp_t::get</a></div><div class="ttdeci">const srsran_timestamp_t &amp; get(uint32_t idx) const override</div><div class="ttdef"><b>Definition:</b> rf_timestamp.h:58</div></div>
<div class="ttc" id="aphy__common__nr_8h_html_af648c57c7927b7b6c7839107210e7009"><div class="ttname"><a href="phy__common__nr_8h.html#af648c57c7927b7b6c7839107210e7009">srsran_duplex_mode_t</a></div><div class="ttdeci">enum SRSRAN_API srsran_duplex_mode_t</div></div>
<div class="ttc" id="anamespacesrslog_html_a7c6cd017ea70905a8cb4486b7a7fdda6"><div class="ttname"><a href="namespacesrslog.html#a7c6cd017ea70905a8cb4486b7a7fdda6">srslog::fetch_basic_logger</a></div><div class="ttdeci">basic_logger &amp; fetch_basic_logger(const std::string &amp;id, bool should_print_context=true)</div><div class="ttdef"><b>Definition:</b> srslog.cpp:315</div></div>
<div class="ttc" id="astructSRSRAN__API_html"><div class="ttname"><a href="structSRSRAN__API.html">SRSRAN_API</a></div><div class="ttdoc">CFR module configuration arguments.</div><div class="ttdef"><b>Definition:</b> agc.h:68</div></div>
<div class="ttc" id="asrsran__assert_8h_html_a5f635080312ccd28ee0e9da9eafda09b"><div class="ttname"><a href="srsran__assert_8h.html#a5f635080312ccd28ee0e9da9eafda09b">srsran_assert</a></div><div class="ttdeci">#define srsran_assert(condition, fmt,...)</div><div class="ttdef"><b>Definition:</b> srsran_assert.h:99</div></div>
<div class="ttc" id="aclasssrslog_1_1detail_1_1logger__impl_html_a70bfaf5c4255d339daae19d8d7194b23"><div class="ttname"><a href="classsrslog_1_1detail_1_1logger__impl.html#a70bfaf5c4255d339daae19d8d7194b23">srslog::detail::logger_impl::set_level</a></div><div class="ttdeci">void set_level(Enum lvl)</div><div class="ttdoc">Change the logging level.</div><div class="ttdef"><b>Definition:</b> logger.h:58</div></div>
<div class="ttc" id="astructSRSRAN__API_html_a004ab73e78a195895d73f9ce5df53ca0"><div class="ttname"><a href="structSRSRAN__API.html#a004ab73e78a195895d73f9ce5df53ca0">SRSRAN_API::pci</a></div><div class="ttdeci">uint32_t pci</div><div class="ttdef"><b>Definition:</b> phy_common_nr.h:383</div></div>
<div class="ttc" id="assb_8h_html_a9f4fca24e705493fbd4686a39ca0cc03"><div class="ttname"><a href="ssb_8h.html#a9f4fca24e705493fbd4686a39ca0cc03">srsran_ssb_init</a></div><div class="ttdeci">SRSRAN_API int srsran_ssb_init(srsran_ssb_t *q, const srsran_ssb_args_t *args)</div><div class="ttdoc">Initialises configures NR SSB with the given arguments.</div><div class="ttdef"><b>Definition:</b> ssb.c:97</div></div>
<div class="ttc" id="aclasssrsran_1_1rf__timestamp__t_html"><div class="ttname"><a href="classsrsran_1_1rf__timestamp__t.html">srsran::rf_timestamp_t</a></div><div class="ttdef"><b>Definition:</b> rf_timestamp.h:35</div></div>
<div class="ttc" id="astructsrsran_1_1channel_1_1args__t_html"><div class="ttname"><a href="structsrsran_1_1channel_1_1args__t.html">srsran::channel::args_t</a></div><div class="ttdef"><b>Definition:</b> channel.h:40</div></div>
<div class="ttc" id="asrsran_8h_html"><div class="ttname"><a href="srsran_8h.html">srsran.h</a></div></div>
<div class="ttc" id="astructgnb__emulator_1_1args__t_html_a41deb1ac0e68a75178f1564bcf4ca839"><div class="ttname"><a href="structgnb__emulator_1_1args__t.html#a41deb1ac0e68a75178f1564bcf4ca839">gnb_emulator::args_t::log_level</a></div><div class="ttdeci">std::string log_level</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:49</div></div>
<div class="ttc" id="aclasssrslog_1_1detail_1_1logger__impl_html_a4b0da29e8e48116c01ed859f50169b56"><div class="ttname"><a href="classsrslog_1_1detail_1_1logger__impl.html#a4b0da29e8e48116c01ed859f50169b56">srslog::detail::logger_impl::set_context</a></div><div class="ttdeci">void set_context(uint32_t x)</div><div class="ttdoc">Set the specified context value to all the channels of the logger.</div><div class="ttdef"><b>Definition:</b> logger.h:77</div></div>
<div class="ttc" id="asrsran__assert_8h_html"><div class="ttname"><a href="srsran__assert_8h.html">srsran_assert.h</a></div></div>
<div class="ttc" id="astructSRSRAN__API_html_abfa8e145549360e2be060260e4599482"><div class="ttname"><a href="structSRSRAN__API.html#abfa8e145549360e2be060260e4599482">SRSRAN_API::ssb_center_freq_hz</a></div><div class="ttdeci">double ssb_center_freq_hz</div><div class="ttdoc">SS/PBCH Block center frequency in Hz. Set to 0 if not present.</div><div class="ttdef"><b>Definition:</b> phy_common_nr.h:386</div></div>
<div class="ttc" id="aclassgnb__emulator_html_abe557d18ca513dac493063476604ed24"><div class="ttname"><a href="classgnb__emulator.html#abe557d18ca513dac493063476604ed24">gnb_emulator::~gnb_emulator</a></div><div class="ttdeci">~gnb_emulator()</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:114</div></div>
<div class="ttc" id="aclasssrslog_1_1detail_1_1logger__impl_html"><div class="ttname"><a href="classsrslog_1_1detail_1_1logger__impl.html">srslog::detail::logger_impl</a></div><div class="ttdef"><b>Definition:</b> logger.h:36</div></div>
<div class="ttc" id="aconfig_8h_html_adfad7b94311dafac5a16dec17b4ab20d"><div class="ttname"><a href="config_8h.html#adfad7b94311dafac5a16dec17b4ab20d">SRSRAN_SUCCESS</a></div><div class="ttdeci">#define SRSRAN_SUCCESS</div><div class="ttdef"><b>Definition:</b> config.h:57</div></div>
<div class="ttc" id="aclassgnb__emulator_html_ac73ef4286bee433f75d5c69846efc666"><div class="ttname"><a href="classgnb__emulator.html#ac73ef4286bee433f75d5c69846efc666">gnb_emulator::logger</a></div><div class="ttdeci">srslog::basic_logger &amp; logger</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:38</div></div>
<div class="ttc" id="astructSRSRAN__API_html_ae161359d890ef1e5f14d1f408264ec62"><div class="ttname"><a href="structSRSRAN__API.html#ae161359d890ef1e5f14d1f408264ec62">SRSRAN_API::duplex_mode</a></div><div class="ttdeci">srsran_duplex_mode_t duplex_mode</div><div class="ttdoc">Set to true if the spectrum is paired (FDD)</div><div class="ttdef"><b>Definition:</b> ssb.h:74</div></div>
<div class="ttc" id="avector_8h_html_aec585f01d1679e868a2578a26c8f8197"><div class="ttname"><a href="vector_8h.html#aec585f01d1679e868a2578a26c8f8197">srsran_vec_sum_ccc</a></div><div class="ttdeci">SRSRAN_API void srsran_vec_sum_ccc(const cf_t *x, const cf_t *y, cf_t *z, const uint32_t len)</div><div class="ttdef"><b>Definition:</b> vector.c:88</div></div>
<div class="ttc" id="aclassgnb__emulator_html_a2b3f2fd1d79f7db45828b164570581c7"><div class="ttname"><a href="classgnb__emulator.html#a2b3f2fd1d79f7db45828b164570581c7">gnb_emulator::ssb</a></div><div class="ttdeci">srsran_ssb_t ssb</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:35</div></div>
<div class="ttc" id="astructgnb__emulator_1_1args__t_html_ab559c92e92f5cc5de70543a1fbe4a9d5"><div class="ttname"><a href="structgnb__emulator_1_1args__t.html#ab559c92e92f5cc5de70543a1fbe4a9d5">gnb_emulator::args_t::srate_hz</a></div><div class="ttdeci">double srate_hz</div><div class="ttdef"><b>Definition:</b> gnb_emulator.h:42</div></div>
<div class="ttc" id="assb_8h_html_a4353e91ceaceb7fed52ae0190e920c72"><div class="ttname"><a href="ssb_8h.html#a4353e91ceaceb7fed52ae0190e920c72">srsran_ssb_set_cfg</a></div><div class="ttdeci">SRSRAN_API int srsran_ssb_set_cfg(srsran_ssb_t *q, const srsran_ssb_cfg_t *cfg)</div><div class="ttdoc">Sets SSB configuration with the current SSB configuration.</div><div class="ttdef"><b>Definition:</b> ssb.c:424</div></div>
<div class="ttc" id="aphy__common__nr_8h_html_adc43afc414742947bb801541d6e45a8c"><div class="ttname"><a href="phy__common__nr_8h.html#adc43afc414742947bb801541d6e45a8c">srsran_ssb_pattern_t</a></div><div class="ttdeci">enum SRSRAN_API srsran_ssb_pattern_t</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
