<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>srsRAN: lib/src/phy/phch/ra_ul_nr.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">srsRAN
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="dir_a065c5f60305fee3569f887679366939.html">src</a></li><li class="navelem"><a class="el" href="dir_d78f2cc42514cdc664099c32bbb23d9d.html">phy</a></li><li class="navelem"><a class="el" href="dir_0bbf76f648c1dd9d9c7da7a93bd37e01.html">phch</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ra_ul_nr.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="ra__ul__nr_8h_source.html">srsran/phy/phch/ra_ul_nr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ra__helper_8h_source.html">ra_helper.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dmrs__pucch_8h_source.html">srsran/phy/ch_estimation/dmrs_pucch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lib_2include_2srsran_2phy_2common_2phy__common_8h_source.html">srsran/phy/common/phy_common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="csi_8h_source.html">srsran/phy/phch/csi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="debug_8h_source.html">srsran/phy/utils/debug.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vector_8h_source.html">srsran/phy/utils/vector.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ra_ul_nr.c:</div>
<div class="dyncontent">
<div class="center"><img src="ra__ul__nr_8c__incl.png" border="0" usemap="#lib_2src_2phy_2phch_2ra__ul__nr_8c" alt=""/></div>
<map name="lib_2src_2phy_2phch_2ra__ul__nr_8c" id="lib_2src_2phy_2phch_2ra__ul__nr_8c">
<area shape="rect" title=" " alt="" coords="2762,5,2891,47"/>
<area shape="rect" href="ra__ul__nr_8h.html" title=" " alt="" coords="1160,184,1291,225"/>
<area shape="rect" href="lib_2include_2srsran_2phy_2common_2phy__common_8h.html" title=" " alt="" coords="2377,720,2540,761"/>
<area shape="rect" href="ra__helper_8h.html" title=" " alt="" coords="2957,549,3043,575"/>
<area shape="rect" href="debug_8h.html" title=" " alt="" coords="3262,638,3423,665"/>
<area shape="rect" href="vector_8h.html" title=" " alt="" coords="2923,727,3085,754"/>
<area shape="rect" href="dmrs__pucch_8h.html" title=" " alt="" coords="2076,95,2244,136"/>
<area shape="rect" href="csi_8h.html" title=" " alt="" coords="199,102,345,129"/>
<area shape="rect" href="dci__nr_8h.html" title=" " alt="" coords="1558,281,1626,307"/>
<area shape="rect" href="config_8h.html" title=" " alt="" coords="2083,809,2191,836"/>
<area shape="rect" href="phch__cfg__nr_8h.html" title=" " alt="" coords="1365,363,1512,404"/>
<area shape="rect" href="uci__cfg__nr_8h.html" title=" " alt="" coords="580,452,716,493"/>
<area shape="rect" href="pucch__cfg__nr_8h.html" title=" " alt="" coords="347,727,458,754"/>
<area shape="rect" href="dci_8h.html" title=" " alt="" coords="2112,549,2163,575"/>
<area shape="rect" href="phy__common__nr_8h.html" title=" " alt="" coords="1683,631,1845,672"/>
<area shape="rect" title=" " alt="" coords="539,809,605,836"/>
<area shape="rect" href="ra_8h.html" title=" " alt="" coords="2275,638,2416,665"/>
<area shape="rect" title=" " alt="" coords="2697,809,2759,836"/>
<area shape="rect" title=" " alt="" coords="1313,809,1388,836"/>
<area shape="rect" title=" " alt="" coords="3143,809,3204,836"/>
<area shape="rect" title=" " alt="" coords="2565,727,2643,754"/>
<area shape="rect" href="csi__rs__cfg_8h.html" title=" " alt="" coords="1565,541,1733,583"/>
<area shape="rect" href="sch__cfg__nr_8h.html" title=" " alt="" coords="1289,452,1429,493"/>
<area shape="rect" href="re__pattern_8h.html" title=" " alt="" coords="1555,452,1682,493"/>
<area shape="rect" href="softbuffer_8h.html" title=" " alt="" coords="1366,549,1541,575"/>
<area shape="rect" href="csi__cfg_8h.html" title=" " alt="" coords="413,638,488,665"/>
<area shape="rect" href="harq__ack__cfg_8h.html" title=" " alt="" coords="251,549,362,575"/>
<area shape="rect" href="sliv_8h.html" title=" " alt="" coords="2915,638,3085,665"/>
<area shape="rect" href="phy__logger_8h.html" title=" " alt="" coords="3368,727,3464,754"/>
<area shape="rect" title=" " alt="" coords="3211,727,3293,754"/>
<area shape="rect" title=" " alt="" coords="3534,809,3597,836"/>
<area shape="rect" title=" " alt="" coords="3255,809,3331,836"/>
<area shape="rect" title=" " alt="" coords="3356,809,3420,836"/>
<area shape="rect" title=" " alt="" coords="3445,809,3510,836"/>
<area shape="rect" href="chest__ul_8h.html" title=" " alt="" coords="2307,273,2475,315"/>
<area shape="rect" href="pucch__nr_8h.html" title=" " alt="" coords="1854,191,2037,218"/>
<area shape="rect" href="chest__common_8h.html" title=" " alt="" coords="1452,720,1620,761"/>
<area shape="rect" href="refsignal__ul_8h.html" title=" " alt="" coords="2457,363,2625,404"/>
<area shape="rect" href="pucch__cfg_8h.html" title=" " alt="" coords="2464,452,2619,493"/>
<area shape="rect" href="pusch__cfg_8h.html" title=" " alt="" coords="2285,452,2440,493"/>
<area shape="rect" href="interp_8h.html" title=" " alt="" coords="1645,720,1795,761"/>
<area shape="rect" href="cqi_8h.html" title=" " alt="" coords="2491,638,2637,665"/>
<area shape="rect" href="uci__cfg_8h.html" title=" " alt="" coords="2451,541,2587,583"/>
<area shape="rect" href="zc__sequence_8h.html" title=" " alt="" coords="1273,720,1428,761"/>
<area shape="rect" href="modem__table_8h.html" title=" " alt="" coords="1921,631,2098,672"/>
<area shape="rect" href="uci__nr_8h.html" title=" " alt="" coords="941,281,1107,307"/>
<area shape="rect" href="crc_8h.html" title=" " alt="" coords="1111,727,1249,754"/>
<area shape="rect" href="polar__code_8h.html" title="Declaration of the function that obtains the polar code parameters." alt="" coords="2187,541,2325,583"/>
<area shape="rect" href="polar__decoder_8h.html" title="Declaration of the polar decoder." alt="" coords="737,720,874,761"/>
<area shape="rect" href="polar__encoder_8h.html" title="Declaration of the polar encoder." alt="" coords="898,720,1035,761"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structue__ra__time__resource__t.html">ue_ra_time_resource_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structpucch__res__common__cfg__t.html">pucch_res_common_cfg_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8b4d52dafaa05cb2b296d6485cca8833"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ra__ul__nr_8c.html#a8b4d52dafaa05cb2b296d6485cca8833">RA_UL_PUCCH_CODE_RATE_N</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a8b4d52dafaa05cb2b296d6485cca8833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859f672a44ffc2c28e7b4728046fc15d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ra__ul__nr_8c.html#a859f672a44ffc2c28e7b4728046fc15d">RA_UL_PUCCH_CODE_RATE_RESERVED</a>&#160;&#160;&#160;NAN</td></tr>
<tr class="separator:a859f672a44ffc2c28e7b4728046fc15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b13b1b238999729d00fa79a16ba3457"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ra__ul__nr_8c.html#a6b13b1b238999729d00fa79a16ba3457">PUCCH_RES_COMMON_CFG_IDX_MAX</a>&#160;&#160;&#160;15</td></tr>
<tr class="separator:a6b13b1b238999729d00fa79a16ba3457"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0a0c2c06f2db1219e4e28db5ff3aee9f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ra__ul__nr_8c.html#a0a0c2c06f2db1219e4e28db5ff3aee9f">srsran_ra_ul_nr_pusch_time_resource_default_A</a> (uint32_t scs_cfg, uint32_t <a class="el" href="format_8cc.html#ae105583c374138efc8272abdbd6d2d25">m</a>, <a class="el" href="phch__cfg__nr_8h.html#a42a053f74c5215426ebb9e806960750d">srsran_sch_grant_nr_t</a> *grant)</td></tr>
<tr class="memdesc:a0a0c2c06f2db1219e4e28db5ff3aee9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the PUSCH time resource default A and stores it in the provided PUSCH NR grant.  <a href="ra__ul__nr_8c.html#a0a0c2c06f2db1219e4e28db5ff3aee9f">More...</a><br /></td></tr>
<tr class="separator:a0a0c2c06f2db1219e4e28db5ff3aee9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6370a74cc07fabd2bfa4965d5a1b3c71"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ra__ul__nr_8c.html#a6370a74cc07fabd2bfa4965d5a1b3c71">srsran_ra_ul_nr_time_validate</a> (<a class="el" href="phch__cfg__nr_8h.html#a42a053f74c5215426ebb9e806960750d">srsran_sch_grant_nr_t</a> *grant)</td></tr>
<tr class="separator:a6370a74cc07fabd2bfa4965d5a1b3c71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3945298022f617d07ecd42a3d8ded29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ra__ul__nr_8c.html#ab3945298022f617d07ecd42a3d8ded29">srsran_ra_ul_nr_time</a> (const <a class="el" href="phch__cfg__nr_8h.html#ab634b2e5691c0699b1222de0ae838e19">srsran_sch_hl_cfg_nr_t</a> *cfg, const <a class="el" href="phy__common__nr_8h.html#a9c6d2faac8c3b408a51283dcea4d68ae">srsran_rnti_type_t</a> rnti_type, const <a class="el" href="phy__common__nr_8h.html#a70218e719901da3debc3c2d41fbe7ab1">srsran_search_space_type_t</a> ss_type, const uint32_t coreset_id, const uint8_t <a class="el" href="format_8cc.html#ae105583c374138efc8272abdbd6d2d25">m</a>, <a class="el" href="phch__cfg__nr_8h.html#a42a053f74c5215426ebb9e806960750d">srsran_sch_grant_nr_t</a> *grant)</td></tr>
<tr class="memdesc:ab3945298022f617d07ecd42a3d8ded29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the PUSCH time resource allocation and stores it in the provided PUSCH NR grant.  <a href="ra__ul__nr_8c.html#ab3945298022f617d07ecd42a3d8ded29">More...</a><br /></td></tr>
<tr class="separator:ab3945298022f617d07ecd42a3d8ded29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dab28d610884d4da685f67fe35003e3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ra__ul__nr_8c.html#a8dab28d610884d4da685f67fe35003e3">srsran_ra_ul_nr_nof_front_load_symbols</a> (const <a class="el" href="phch__cfg__nr_8h.html#ab634b2e5691c0699b1222de0ae838e19">srsran_sch_hl_cfg_nr_t</a> *cfg, const <a class="el" href="dci__nr_8h.html#a761c58334e76fa3e1b604e247d9a366d">srsran_dci_ul_nr_t</a> *dci, <a class="el" href="phch__cfg__nr_8h.html#ad6e5447c6362e65c3510bf6e537571c8">srsran_dmrs_sch_len_t</a> *dmrs_duration)</td></tr>
<tr class="memdesc:a8dab28d610884d4da685f67fe35003e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the number of front load symbols.  <a href="ra__ul__nr_8c.html#a8dab28d610884d4da685f67fe35003e3">More...</a><br /></td></tr>
<tr class="separator:a8dab28d610884d4da685f67fe35003e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa281a0033b0289df126b13a29771bc1c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ra__ul__nr_8c.html#aa281a0033b0289df126b13a29771bc1c">srsran_ra_ul_nr_nof_dmrs_cdm_groups_without_data</a> (const <a class="el" href="phch__cfg__nr_8h.html#ab634b2e5691c0699b1222de0ae838e19">srsran_sch_hl_cfg_nr_t</a> *cfg, const <a class="el" href="dci__nr_8h.html#a761c58334e76fa3e1b604e247d9a366d">srsran_dci_ul_nr_t</a> *dci, uint32_t L)</td></tr>
<tr class="memdesc:aa281a0033b0289df126b13a29771bc1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the number of DMRS CDM groups without data.  <a href="ra__ul__nr_8c.html#aa281a0033b0289df126b13a29771bc1c">More...</a><br /></td></tr>
<tr class="separator:aa281a0033b0289df126b13a29771bc1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d233cb1e3f058cdfd01c88670bc28c7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ra__ul__nr_8c.html#a2d233cb1e3f058cdfd01c88670bc28c7">srsran_ra_ul_nr_pucch_format_2_3_min_prb</a> (const <a class="el" href="pucch__cfg__nr_8h.html#aa7c8597324ba9ccfeb8da220fea49a02">srsran_pucch_nr_resource_t</a> *resource, const <a class="el" href="uci__cfg__nr_8h.html#a49f8093c3f14a245c426939952f0e43f">srsran_uci_cfg_nr_t</a> *uci_cfg)</td></tr>
<tr class="memdesc:a2d233cb1e3f058cdfd01c88670bc28c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the minimum number of PRB required for transmitting NR-PUCCH Format 2, 3 or 4.  <a href="ra__ul__nr_8c.html#a2d233cb1e3f058cdfd01c88670bc28c7">More...</a><br /></td></tr>
<tr class="separator:a2d233cb1e3f058cdfd01c88670bc28c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab19426f5bacf7826a295dcc25c3b95e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ra__ul__nr_8c.html#ab19426f5bacf7826a295dcc25c3b95e2">srsran_ra_ul_nr_freq</a> (const <a class="el" href="phy__common__nr_8h.html#a7c07da292445aee89a32db4697fa82d9">srsran_carrier_nr_t</a> *carrier, const <a class="el" href="phch__cfg__nr_8h.html#ab634b2e5691c0699b1222de0ae838e19">srsran_sch_hl_cfg_nr_t</a> *cfg, const <a class="el" href="dci__nr_8h.html#a761c58334e76fa3e1b604e247d9a366d">srsran_dci_ul_nr_t</a> *dci_ul, <a class="el" href="phch__cfg__nr_8h.html#a42a053f74c5215426ebb9e806960750d">srsran_sch_grant_nr_t</a> *grant)</td></tr>
<tr class="memdesc:ab19426f5bacf7826a295dcc25c3b95e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the PUSCH frequency resource allocation and stores it in the provided PUSCH NR grant.  <a href="ra__ul__nr_8c.html#ab19426f5bacf7826a295dcc25c3b95e2">More...</a><br /></td></tr>
<tr class="separator:ab19426f5bacf7826a295dcc25c3b95e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3366c141d8089d2364a3ac010436247c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ra__ul__nr_8c.html#a3366c141d8089d2364a3ac010436247c">srsran_ra_ul_nr_pucch_resource</a> (const <a class="el" href="pucch__cfg__nr_8h.html#ae9c8c2932f59c664fbc1ba459bed17fc">srsran_pucch_nr_hl_cfg_t</a> *pucch_cfg, const <a class="el" href="uci__cfg__nr_8h.html#a49f8093c3f14a245c426939952f0e43f">srsran_uci_cfg_nr_t</a> *uci_cfg, uint32_t N_bwp_sz, <a class="el" href="pucch__cfg__nr_8h.html#aa7c8597324ba9ccfeb8da220fea49a02">srsran_pucch_nr_resource_t</a> *resource)</td></tr>
<tr class="memdesc:a3366c141d8089d2364a3ac010436247c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Selects a valid PUCCH resource for transmission.  <a href="ra__ul__nr_8c.html#a3366c141d8089d2364a3ac010436247c">More...</a><br /></td></tr>
<tr class="separator:a3366c141d8089d2364a3ac010436247c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e6347939d3efc739d5a6907007ead64"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ra__ul__nr_8c.html#a2e6347939d3efc739d5a6907007ead64">srsran_ra_ul_nr_nof_sr_bits</a> (uint32_t <a class="el" href="turbodecoder__test_8c.html#a2689c4b3931025b79053532a5f1b0a85">K</a>)</td></tr>
<tr class="memdesc:a2e6347939d3efc739d5a6907007ead64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the number of SR bits.  <a href="ra__ul__nr_8c.html#a2e6347939d3efc739d5a6907007ead64">More...</a><br /></td></tr>
<tr class="separator:a2e6347939d3efc739d5a6907007ead64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a6b13b1b238999729d00fa79a16ba3457"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b13b1b238999729d00fa79a16ba3457">&#9670;&nbsp;</a></span>PUCCH_RES_COMMON_CFG_IDX_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PUCCH_RES_COMMON_CFG_IDX_MAX&#160;&#160;&#160;15</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8b4d52dafaa05cb2b296d6485cca8833"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b4d52dafaa05cb2b296d6485cca8833">&#9670;&nbsp;</a></span>RA_UL_PUCCH_CODE_RATE_N</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RA_UL_PUCCH_CODE_RATE_N&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a859f672a44ffc2c28e7b4728046fc15d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a859f672a44ffc2c28e7b4728046fc15d">&#9670;&nbsp;</a></span>RA_UL_PUCCH_CODE_RATE_RESERVED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RA_UL_PUCCH_CODE_RATE_RESERVED&#160;&#160;&#160;NAN</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab19426f5bacf7826a295dcc25c3b95e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab19426f5bacf7826a295dcc25c3b95e2">&#9670;&nbsp;</a></span>srsran_ra_ul_nr_freq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsran_ra_ul_nr_freq </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="phy__common__nr_8h.html#a7c07da292445aee89a32db4697fa82d9">srsran_carrier_nr_t</a> *&#160;</td>
          <td class="paramname"><em>carrier</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="phch__cfg__nr_8h.html#ab634b2e5691c0699b1222de0ae838e19">srsran_sch_hl_cfg_nr_t</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="dci__nr_8h.html#a761c58334e76fa3e1b604e247d9a366d">srsran_dci_ul_nr_t</a> *&#160;</td>
          <td class="paramname"><em>dci_ul</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="phch__cfg__nr_8h.html#a42a053f74c5215426ebb9e806960750d">srsran_sch_grant_nr_t</a> *&#160;</td>
          <td class="paramname"><em>grant</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the PUSCH frequency resource allocation and stores it in the provided PUSCH NR grant. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Defined by TS 38.214 V15.10.0 section 6.1.2.2 Resource allocation in frequency domain (for DCI formats 0_0 and 0_1) </dd>
<dd>
Defined by TS 38.213 V15.10.0 section 8.3 for PUSCH scheduled by RAR UL grant </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">carrier</td><td>Carrier information </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">cfg</td><td>PDSCH NR configuration by upper layers </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dci_dl</td><td>Unpacked DCI used to schedule the PDSCH grant </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grant</td><td>Provides grant pointer to fill </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SRSRAN_SUCCESS if the provided data is valid, SRSRAN_ERROR code otherwise </dd></dl>

</div>
</div>
<a id="aa281a0033b0289df126b13a29771bc1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa281a0033b0289df126b13a29771bc1c">&#9670;&nbsp;</a></span>srsran_ra_ul_nr_nof_dmrs_cdm_groups_without_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsran_ra_ul_nr_nof_dmrs_cdm_groups_without_data </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="phch__cfg__nr_8h.html#ab634b2e5691c0699b1222de0ae838e19">srsran_sch_hl_cfg_nr_t</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="dci__nr_8h.html#a761c58334e76fa3e1b604e247d9a366d">srsran_dci_ul_nr_t</a> *&#160;</td>
          <td class="paramname"><em>dci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>L</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the number of DMRS CDM groups without data. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Defined by TS 38.214 V15.10.0 6.2.2 UE DM-RS transmission procedure</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td>PUSCH NR configuration by upper layers </td></tr>
    <tr><td class="paramname">dci</td><td>Provides PUSCH NR DCI </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of DMRS CDM groups without data if the provided data is valid, otherwise it returns SRSRAN_ERROR code </dd></dl>

</div>
</div>
<a id="a8dab28d610884d4da685f67fe35003e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dab28d610884d4da685f67fe35003e3">&#9670;&nbsp;</a></span>srsran_ra_ul_nr_nof_front_load_symbols()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsran_ra_ul_nr_nof_front_load_symbols </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="phch__cfg__nr_8h.html#ab634b2e5691c0699b1222de0ae838e19">srsran_sch_hl_cfg_nr_t</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="dci__nr_8h.html#a761c58334e76fa3e1b604e247d9a366d">srsran_dci_ul_nr_t</a> *&#160;</td>
          <td class="paramname"><em>dci</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="phch__cfg__nr_8h.html#ad6e5447c6362e65c3510bf6e537571c8">srsran_dmrs_sch_len_t</a> *&#160;</td>
          <td class="paramname"><em>dmrs_duration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the number of front load symbols. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">cfg</td><td>PUSCH NR configuration by upper layers </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">dci</td><td>Provides PUSCH NR DCI </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dmrs_duration</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SRSRAN_SUCCESS if provided arguments are valid, SRSRAN_ERROR code otherwise </dd></dl>

</div>
</div>
<a id="a2e6347939d3efc739d5a6907007ead64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e6347939d3efc739d5a6907007ead64">&#9670;&nbsp;</a></span>srsran_ra_ul_nr_nof_sr_bits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t srsran_ra_ul_nr_nof_sr_bits </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>K</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Computes the number of SR bits. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">K</td><td>Number of SR transmission opportunities, including negative </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bits according to the number of SRs </dd></dl>

</div>
</div>
<a id="a2d233cb1e3f058cdfd01c88670bc28c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d233cb1e3f058cdfd01c88670bc28c7">&#9670;&nbsp;</a></span>srsran_ra_ul_nr_pucch_format_2_3_min_prb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsran_ra_ul_nr_pucch_format_2_3_min_prb </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="pucch__cfg__nr_8h.html#aa7c8597324ba9ccfeb8da220fea49a02">srsran_pucch_nr_resource_t</a> *&#160;</td>
          <td class="paramname"><em>resource</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="uci__cfg__nr_8h.html#a49f8093c3f14a245c426939952f0e43f">srsran_uci_cfg_nr_t</a> *&#160;</td>
          <td class="paramname"><em>uci_cfg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the minimum number of PRB required for transmitting NR-PUCCH Format 2, 3 or 4. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Based in TS 38.213 9.2.5.1 UE procedure for multiplexing HARQ-ACK or CSI and SR in a PUCCH </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The number of PRB if the provided configuration is valid, SRSRAN_ERROR code otherwise </dd></dl>

</div>
</div>
<a id="a3366c141d8089d2364a3ac010436247c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3366c141d8089d2364a3ac010436247c">&#9670;&nbsp;</a></span>srsran_ra_ul_nr_pucch_resource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsran_ra_ul_nr_pucch_resource </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="pucch__cfg__nr_8h.html#ae9c8c2932f59c664fbc1ba459bed17fc">srsran_pucch_nr_hl_cfg_t</a> *&#160;</td>
          <td class="paramname"><em>pucch_cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="uci__cfg__nr_8h.html#a49f8093c3f14a245c426939952f0e43f">srsran_uci_cfg_nr_t</a> *&#160;</td>
          <td class="paramname"><em>uci_cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>N_bwp_sz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pucch__cfg__nr_8h.html#aa7c8597324ba9ccfeb8da220fea49a02">srsran_pucch_nr_resource_t</a> *&#160;</td>
          <td class="paramname"><em>resource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Selects a valid PUCCH resource for transmission. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">pucch_cfg</td><td>PUCCH configuration from upper layers </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">uci_cfg</td><td>Uplink Control information configuration (and PDCCH context) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">N_bwp_sz</td><td>Uplink BWP size in nof_prb </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resource</td><td>Selected resource for transmitting PUCCH </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SRSRAN_SUCCESS if provided configuration is valid, SRSRAN_ERROR code otherwise </dd></dl>

</div>
</div>
<a id="a0a0c2c06f2db1219e4e28db5ff3aee9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a0c2c06f2db1219e4e28db5ff3aee9f">&#9670;&nbsp;</a></span>srsran_ra_ul_nr_pusch_time_resource_default_A()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsran_ra_ul_nr_pusch_time_resource_default_A </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>scs_cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="phch__cfg__nr_8h.html#a42a053f74c5215426ebb9e806960750d">srsran_sch_grant_nr_t</a> *&#160;</td>
          <td class="paramname"><em>grant</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the PUSCH time resource default A and stores it in the provided PUSCH NR grant. </p>
<dl class="section remark"><dt>Remarks</dt><dd>Defined by TS 38.214 V15.10.0 Table 6.1.2.1.1-2: Default PUSCH time domain resource allocation A for normal CP</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">scs_cfg</td><td>Sub-carrier spacing configuration for PUSCH (Î¼) </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">m</td><td>Time domain resource assignment field value m of the DCI </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">grant</td><td>PUSCH grant </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns SRSRAN_SUCCESS if the provided allocation is valid, otherwise it returns SRSRAN_ERROR code </dd></dl>

</div>
</div>
<a id="ab3945298022f617d07ecd42a3d8ded29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3945298022f617d07ecd42a3d8ded29">&#9670;&nbsp;</a></span>srsran_ra_ul_nr_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int srsran_ra_ul_nr_time </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="phch__cfg__nr_8h.html#ab634b2e5691c0699b1222de0ae838e19">srsran_sch_hl_cfg_nr_t</a> *&#160;</td>
          <td class="paramname"><em>cfg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="phy__common__nr_8h.html#a9c6d2faac8c3b408a51283dcea4d68ae">srsran_rnti_type_t</a>&#160;</td>
          <td class="paramname"><em>rnti_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="phy__common__nr_8h.html#a70218e719901da3debc3c2d41fbe7ab1">srsran_search_space_type_t</a>&#160;</td>
          <td class="paramname"><em>ss_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>coreset_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="phch__cfg__nr_8h.html#a42a053f74c5215426ebb9e806960750d">srsran_sch_grant_nr_t</a> *&#160;</td>
          <td class="paramname"><em>grant</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the PUSCH time resource allocation and stores it in the provided PUSCH NR grant. </p>
<p>Copyright 2013-2022 Software Radio Systems Limited</p>
<p>This file is part of srsRAN.</p>
<p>srsRAN is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>
<p>srsRAN is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details.</p>
<p>A copy of the GNU Affero General Public License can be found in the LICENSE file in the top-level directory of this distribution and at <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>. </p><dl class="section remark"><dt>Remarks</dt><dd>Defined by TS 38.214 V15.10.0 section 6.1.2.1.1 Determination of the resource allocation table to be used for PUSCH</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">cfg</td><td>Flattened PUSCH configuration provided from higher layers </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">rnti_type</td><td>Type of the RNTI of the corresponding DCI </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ss_type</td><td>Type of the SS for PDCCH </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">coreset_id</td><td>CORESET identifier associated with the PDCCH transmission </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">m</td><td>Time domain resource assignment field value m provided in DCI </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Provides</td><td>grant pointer to fill </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns SRSRAN_SUCCESS if the provided allocation is valid, otherwise it returns SRSRAN_ERROR code </dd></dl>

</div>
</div>
<a id="a6370a74cc07fabd2bfa4965d5a1b3c71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6370a74cc07fabd2bfa4965d5a1b3c71">&#9670;&nbsp;</a></span>srsran_ra_ul_nr_time_validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool srsran_ra_ul_nr_time_validate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="phch__cfg__nr_8h.html#a42a053f74c5215426ebb9e806960750d">srsran_sch_grant_nr_t</a> *&#160;</td>
          <td class="paramname"><em>grant</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
